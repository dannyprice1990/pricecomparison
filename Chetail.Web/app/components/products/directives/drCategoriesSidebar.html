    <div class="panel panel-default" ng-if="!newForm">
        <div class="panel-heading">

            <div class="row">
                <div class="col-xs-10">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" href="" class="collapseWill">
                            <span class="pull-left"> <i class="fa fa-caret-right"></i></span> Category
                        </a>
                    </h4>
                </div>
                <div class="col-xs-2">
                    <button type="button"
                            title="Add new product category"
                            class="btn btn-primary btn-xs pull-right"
                            ng-click="showNew()"
                            ng-if="!newForm">
                        <span class="glyphicon glyphicon-plus"></span>
                    </button>
                </div>
            </div>

        </div>

        <div id="collapseCategory" class="panel-collapse collapse in">
            <div class="panel-body">

                <!-- Loading Icon -->
                <i class="fa fa-spinner fa-spin" ng-show="vm.states.loading"></i>

                <ul class="nav nav-pills nav-stacked tree">

                    <li ng-repeat="productCategory in vm.productCategories">                 
                        <a href="#home?productCategory={{productCategory.id}}">
                            {{productCategory.name}}

                            <span class="badge pull-right">
                                {{productCategory.productCount}}
                            </span>
                        </a>                     
                    </li>

                </ul>
            </div>
        </div>

    </div>

    <!-- New Product Category Directive
           Returns updated category -->
    <dr-new-category ng-if="newForm"
                     category="newFormObject"
                     notify-save="saveNew(newCategory)"
                     notify-parent-saved="showNew()"
                     notify-parent-cancelled="showNew()">
    </dr-new-category>